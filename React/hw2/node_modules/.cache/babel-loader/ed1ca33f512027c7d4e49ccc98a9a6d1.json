{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicat\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\homeworks\\\\React JS\\\\Homeworks\\\\hw2\\\\src\\\\components\\\\SingleProduct.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { IoIosStar } from \"react-icons/io\";\nimport { Modal } from './Modal';\nimport { Button } from './Button';\nimport { AddToCartModal } from './AddToCartModal';\nexport const SingleProduct = () => {\n  const [data, setData] = useState({\n    products: []\n  });\n  console.log(data);\n\n  const getData = async url => {\n    const response = await fetch(url);\n    const newData = await response.json();\n    setData(data => ({ ...newData,\n      products: [...data.products, ...newData.products]\n    }));\n    console.log(data);\n  };\n\n  useEffect(() => {\n    getData('./products.json');\n  }, []);\n\n  const addToCart = (name, price, url) => {\n    if (!isNaN(price)) {\n      const isAvailable = cart.find(item => url === item.url);\n\n      if (isAvailable) {\n        setCart(cart => cart.map(item => {\n          if (item.url === url) {\n            return { ...item,\n              count: item.count + 1\n            };\n          }\n\n          return item;\n        }));\n      } else {\n        setCart(cart => [...cart, {\n          name,\n          price,\n          url,\n          count: 1\n        }]);\n      }\n    }\n  };\n\n  const [firstModalStatus, setFirstModalStatus] = useState(false);\n\n  const toggleFirstModal = () => setFirstModalStatus(v => !v);\n\n  const firstModalClose = () => setFirstModalStatus(false);\n\n  const [addToCartModalStatus, setAddToCartModalStatus] = useState(false);\n\n  const toggleAddToCart = () => setAddToCartModalStatus(v => !v);\n\n  const addToCartModalClose = () => setAddToCartModalStatus(false);\n\n  const [cart, setCart] = useState([]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  });\n};\n{\n  /* <div className=\"carts\">\r\n                     <div className=\"cart\">\r\n                         <img src={image1} className=\"cart-img\"/>\r\n                         <div className=\"cart-description\">\r\n                             <p className=\"product-name\">\r\n                                 <i className=\"italic\"> by Artist</i>\r\n                             </p>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star_black}/>\r\n                             <p className=\"product-description\">\r\n                                 Lorem ipsum dolor sit amet, con <br/>\r\n                                 adipiscing elit, sed diam nonu. \r\n                             </p>\r\n                             <p className=\"price\">$14.99\r\n                                 <button className=\"add-to-cart\">Add to cart</button>\r\n                             </p>\r\n                         </div>\r\n                     </div>\r\n                 \r\n                     <div className=\"cart\">\r\n                         <img src={image2} className=\"cart-img\"/>\r\n                         <div className=\"cart-description\">\r\n                             <p className=\"product-name\">Awaken the Hero\r\n                                 <i className=\"italic\"> by Artist</i>\r\n                             </p>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star_black}/>\r\n                             <p className=\"product-description\">\r\n                                 Lorem ipsum dolor sit amet, con <br/>\r\n                                 adipiscing elit, sed diam nonu. \r\n                             </p>\r\n                             <p className=\"price\">$17.59\r\n                                 <button className=\"add-to-cart\">Add to cart</button>\r\n                             </p>\r\n                         </div>\r\n                     </div>\r\n                     <div className=\"cart\">\r\n                         <img src={image3} className=\"cart-img\"/>\r\n                         <div className=\"cart-description\">\r\n                             <p className=\"product-name\">Oh my Deer\r\n                                 <i className=\"italic\"> by Artist</i>\r\n                             </p>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star_black}/>\r\n                             <p className=\"product-description\">\r\n                                 Lorem ipsum dolor sit amet, con <br/>\r\n                                 adipiscing elit, sed diam nonu. \r\n                             </p>\r\n                             <p className=\"price\">$8.99\r\n                                 <button className=\"add-to-cart\">Add to cart</button>\r\n                             </p>\r\n                         </div>\r\n                     </div>\r\n                     <div className=\"cart\">\r\n                         <img src={image4} className=\"cart-img\"/>\r\n                         <div className=\"cart-description\">\r\n                             <p className=\"product-name\">Ravenna\r\n                                 <i className=\"italic\"> by Artist</i>\r\n                             </p>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star}/>\r\n                             <img src={star_black}/>\r\n                             <p className=\"product-description\">\r\n                                 Lorem ipsum dolor sit amet, con <br/>\r\n                                 adipiscing elit, sed diam nonu. \r\n                             </p>\r\n                             <p className=\"price\">$22.99\r\n                                 <button className=\"add-to-cart\">Add to cart</button>\r\n                             </p>\r\n                         </div>\r\n                     </div>\r\n                 </div> */\n}","map":{"version":3,"sources":["C:/Users/nicat/OneDrive/Рабочий стол/homeworks/React JS/Homeworks/hw2/src/components/SingleProduct.jsx"],"names":["React","useState","useEffect","IoIosStar","Modal","Button","AddToCartModal","SingleProduct","data","setData","products","console","log","getData","url","response","fetch","newData","json","addToCart","name","price","isNaN","isAvailable","cart","find","item","setCart","map","count","firstModalStatus","setFirstModalStatus","toggleFirstModal","v","firstModalClose","addToCartModalStatus","setAddToCartModalStatus","toggleAddToCart","addToCartModalClose"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,SAASC,KAAT,QAAsB,SAAtB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAE/B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC;AAAES,IAAAA,QAAQ,EAAE;AAAZ,GAAD,CAAhC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;;AAEA,QAAMK,OAAO,GAAG,MAAOC,GAAP,IAAe;AAC3B,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,UAAMG,OAAO,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAtB;AACAT,IAAAA,OAAO,CAACD,IAAI,KAAK,EACb,GAAGS,OADU;AAEbP,MAAAA,QAAQ,EAAE,CAAC,GAAGF,IAAI,CAACE,QAAT,EAAmB,GAAGO,OAAO,CAACP,QAA9B;AAFG,KAAL,CAAL,CAAP;AAKAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACH,GATD;;AAWAN,EAAAA,SAAS,CAAC,MAAM;AACZW,IAAAA,OAAO,CAAC,iBAAD,CAAP;AACH,GAFQ,EAEN,EAFM,CAAT;;AAKA,QAAMM,SAAS,GAAG,CAACC,IAAD,EAAOC,KAAP,EAAcP,GAAd,KAAsB;AACpC,QAAG,CAACQ,KAAK,CAACD,KAAD,CAAT,EAAkB;AACd,YAAME,WAAW,GAAGC,IAAI,CAACC,IAAL,CAAWC,IAAD,IAAUZ,GAAG,KAAKY,IAAI,CAACZ,GAAjC,CAApB;;AAEA,UAAGS,WAAH,EAAgB;AACZI,QAAAA,OAAO,CAACH,IAAI,IAAIA,IAAI,CAACI,GAAL,CAASF,IAAI,IAAI;AAC7B,cAAGA,IAAI,CAACZ,GAAL,KAAaA,GAAhB,EAAqB;AACjB,mBAAO,EACH,GAAGY,IADA;AAEHG,cAAAA,KAAK,EAAEH,IAAI,CAACG,KAAL,GAAa;AAFjB,aAAP;AAIH;;AACD,iBAAOH,IAAP;AACH,SARe,CAAT,CAAP;AASH,OAVD,MAWK;AACDC,QAAAA,OAAO,CAACH,IAAI,IAAI,CAAC,GAAGA,IAAJ,EAAU;AACtBJ,UAAAA,IADsB;AAEtBC,UAAAA,KAFsB;AAGtBP,UAAAA,GAHsB;AAItBe,UAAAA,KAAK,EAAE;AAJe,SAAV,CAAT,CAAP;AAMH;AACJ;AACJ,GAxBD;;AA0BA,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0C9B,QAAQ,CAAC,KAAD,CAAxD;;AAEA,QAAM+B,gBAAgB,GAAG,MAAMD,mBAAmB,CAAEE,CAAC,IAAI,CAACA,CAAR,CAAlD;;AACA,QAAMC,eAAe,GAAG,MAAMH,mBAAmB,CAAC,KAAD,CAAjD;;AAEA,QAAM,CAACI,oBAAD,EAAuBC,uBAAvB,IAAkDnC,QAAQ,CAAC,KAAD,CAAhE;;AACA,QAAMoC,eAAe,GAAG,MAAMD,uBAAuB,CAACH,CAAC,IAAI,CAACA,CAAP,CAArD;;AACA,QAAMK,mBAAmB,GAAG,MAAMF,uBAAuB,CAAC,KAAD,CAAzD;;AAEA,QAAM,CAACZ,IAAD,EAAOG,OAAP,IAAkB1B,QAAQ,CAAC,EAAD,CAAhC;AAEA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AA+EH,CAzIM;AA6IP;AAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFyB","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { IoIosStar } from \"react-icons/io\";\r\nimport { Modal } from './Modal';\r\nimport { Button } from './Button';\r\nimport { AddToCartModal } from './AddToCartModal';\r\n\r\nexport const SingleProduct = () => {\r\n\r\n    const [data, setData] = useState({ products: [] });\r\n    console.log(data);\r\n\r\n    const getData = async (url) => {\r\n        const response = await fetch(url);\r\n        const newData = await response.json();\r\n        setData(data => ({\r\n            ...newData,\r\n            products: [...data.products, ...newData.products]\r\n        }));\r\n        \r\n        console.log(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        getData('./products.json')\r\n    }, []);\r\n\r\n\r\n    const addToCart = (name, price, url) => {\r\n        if(!isNaN(price)) {\r\n            const isAvailable = cart.find((item) => url === item.url);\r\n\r\n            if(isAvailable) {\r\n                setCart(cart => cart.map(item => {\r\n                    if(item.url === url) {\r\n                        return {\r\n                            ...item,\r\n                            count: item.count + 1\r\n                        }\r\n                    }\r\n                    return item;\r\n                }))\r\n            }\r\n            else {\r\n                setCart(cart => [...cart, {\r\n                    name,\r\n                    price,\r\n                    url,\r\n                    count: 1\r\n                }])\r\n            }\r\n        }\r\n    }\r\n\r\n    const [firstModalStatus, setFirstModalStatus] = useState(false);\r\n\r\n    const toggleFirstModal = () => setFirstModalStatus (v => !v);\r\n    const firstModalClose = () => setFirstModalStatus(false);\r\n\r\n    const [addToCartModalStatus, setAddToCartModalStatus] = useState(false);\r\n    const toggleAddToCart = () => setAddToCartModalStatus(v => !v);\r\n    const addToCartModalClose = () => setAddToCartModalStatus(false);\r\n\r\n    const [cart, setCart] = useState([]);\r\n\r\n    return(\r\n        <div>\r\n\r\n            {/* { firstModalStatus ? <div onClick={firstModalClose} className=\"back-drop\"></div> : null }\r\n\r\n            {firstModalStatus &&   \r\n                (<Modal\r\n                    show={firstModalStatus}\r\n                    closing={firstModalClose}\r\n                    header='Do you want to add this product to cart?'\r\n                    closeIcon={true}\r\n                    text={`Are you sure you want to add this product to cart?`}\r\n                    close={toggleFirstModal}\r\n\r\n                    actions={[\r\n                        <Button\r\n                          key={1}\r\n                          backgroundColor='rgba(0,0,0,0.2)'\r\n                          text='Add to Cart'\r\n                          onClick={addToCart}\r\n                        />,\r\n\r\n                        <Button\r\n                          key={2}\r\n                          backgroundColor='rgba(0,0,0,0.2)'\r\n                          text='Cancel'\r\n                          onClick={toggleFirstModal} \r\n                        />]}  \r\n                      \r\n                />)\r\n            }\r\n\r\n\r\n            <div className=\"cart\">\r\n                {data.products.map(( { id, name, image, desc, price }) => (\r\n                    <div className=\"product-info\">\r\n                        <img src={image} alt={name} className=\"cart-img\" />\r\n                        <div className=\"cart-info\">\r\n                            <p className=\"prooduct-name\">{name}</p>\r\n                            <div className=\"prooduct-stars\">\r\n                                <IoIosStar/>\r\n                                <IoIosStar/>\r\n                                <IoIosStar/>\r\n                                <IoIosStar/>\r\n                                <IoIosStar className=\"star\"/>\r\n                            </div>\r\n                            <p className=\"prooduct-description\">{desc}</p>\r\n                            <div className=\"price-container\">\r\n                                <p className=\"prooduct-price\">${price}</p>\r\n                                <button \r\n                                    className=\"add-to-cart-btn\" \r\n                                    onClick={toggleFirstModal}\r\n                                >add to cart\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}        \r\n            </div> */}\r\n\r\n            {/* {addToCartModalStatus && \r\n                (<AddToCartModal \r\n                    show={addToCartModalStatus}\r\n                    closing={addToCartModalClose}\r\n                    header='Do you'\r\n                    closeIcon={true}\r\n                    text={`Are you sure you want to add this product to cart?`}\r\n                    close={toggleAddToCart}\r\n\r\n                    cart={cart}\r\n                    setCart={setCart}\r\n\r\n                />)\r\n            } */}\r\n\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n{/* <div className=\"carts\">\r\n                    <div className=\"cart\">\r\n                        <img src={image1} className=\"cart-img\"/>\r\n                        <div className=\"cart-description\">\r\n                            <p className=\"product-name\">\r\n                                <i className=\"italic\"> by Artist</i>\r\n                            </p>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star_black}/>\r\n                            <p className=\"product-description\">\r\n                                Lorem ipsum dolor sit amet, con <br/>\r\n                                adipiscing elit, sed diam nonu. \r\n                            </p>\r\n                            <p className=\"price\">$14.99\r\n                                <button className=\"add-to-cart\">Add to cart</button>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                \r\n                    <div className=\"cart\">\r\n                        <img src={image2} className=\"cart-img\"/>\r\n                        <div className=\"cart-description\">\r\n                            <p className=\"product-name\">Awaken the Hero\r\n                                <i className=\"italic\"> by Artist</i>\r\n                            </p>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star_black}/>\r\n                            <p className=\"product-description\">\r\n                                Lorem ipsum dolor sit amet, con <br/>\r\n                                adipiscing elit, sed diam nonu. \r\n                            </p>\r\n                            <p className=\"price\">$17.59\r\n                                <button className=\"add-to-cart\">Add to cart</button>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"cart\">\r\n                        <img src={image3} className=\"cart-img\"/>\r\n                        <div className=\"cart-description\">\r\n                            <p className=\"product-name\">Oh my Deer\r\n                                <i className=\"italic\"> by Artist</i>\r\n                            </p>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star_black}/>\r\n                            <p className=\"product-description\">\r\n                                Lorem ipsum dolor sit amet, con <br/>\r\n                                adipiscing elit, sed diam nonu. \r\n                            </p>\r\n                            <p className=\"price\">$8.99\r\n                                <button className=\"add-to-cart\">Add to cart</button>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"cart\">\r\n                        <img src={image4} className=\"cart-img\"/>\r\n                        <div className=\"cart-description\">\r\n                            <p className=\"product-name\">Ravenna\r\n                                <i className=\"italic\"> by Artist</i>\r\n                            </p>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star}/>\r\n                            <img src={star_black}/>\r\n                            <p className=\"product-description\">\r\n                                Lorem ipsum dolor sit amet, con <br/>\r\n                                adipiscing elit, sed diam nonu. \r\n                            </p>\r\n                            <p className=\"price\">$22.99\r\n                                <button className=\"add-to-cart\">Add to cart</button>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div> */}\r\n\r\n"]},"metadata":{},"sourceType":"module"}